#!/usr/bin/env bash
set -e

# Make sure bin/install is being run from project root
if [[ ! "$PWD/bin/install" -ef "$0" ]]; then
  echo "Please run 'bin/install' from dotfiles root"
  exit 1
fi

if [[ "$1" == "all" ]]; then
  source 'bin/recipes/dotfiles'
  source 'bin/recipes/vim-plugins'
  source 'bin/recipes/homebrews'
  source 'bin/recipes/rubies'
else
  case "$1" in
    dotfiles)
      source 'bin/recipes/dotfiles'
      ;;
    vim-plugins)
      source 'bin/recipes/vim-plugins'
      ;;
    homebrews)
      source 'bin/recipes/homebrews'
      ;;
    rubies)
      source 'bin/recipes/rubies'
      ;;
  esac
fi
